{"id":"K8Qe","dependencies":[{"name":"/Users/adriaan/Developer/js/packages/app/package.json","includedInParent":true,"mtime":1542564357914},{"name":"/Users/adriaan/Developer/js/packages/app/.babelrc","includedInParent":true,"mtime":1542562355252},{"name":"/Users/adriaan/Developer/js/packages/app/node_modules/stream-http/package.json","includedInParent":true,"mtime":1542488253979},{"name":"./capability","loc":{"line":1,"column":25},"parent":"/Users/adriaan/Developer/js/packages/app/node_modules/stream-http/lib/response.js","resolved":"/Users/adriaan/Developer/js/packages/app/node_modules/stream-http/lib/capability.js"},{"name":"inherits","loc":{"line":2,"column":23},"parent":"/Users/adriaan/Developer/js/packages/app/node_modules/stream-http/lib/response.js","resolved":"/Users/adriaan/Developer/js/packages/app/node_modules/inherits/inherits_browser.js"},{"name":"readable-stream","loc":{"line":3,"column":21},"parent":"/Users/adriaan/Developer/js/packages/app/node_modules/stream-http/lib/response.js","resolved":"/Users/adriaan/Developer/js/packages/app/node_modules/readable-stream/readable-browser.js"},{"name":"process","parent":"/Users/adriaan/Developer/js/packages/app/node_modules/stream-http/lib/response.js","resolved":"/Users/adriaan/Developer/js/packages/app/node_modules/process/browser.js"},{"name":"buffer","parent":"/Users/adriaan/Developer/js/packages/app/node_modules/stream-http/lib/response.js","resolved":"/Users/adriaan/Developer/js/packages/app/node_modules/buffer/index.js"}],"generated":{"js":"var $K8Qe$export$readyStates,$K8Qe$export$IncomingMessage,$K8Qe$var$Buffer=$parcel$require(\"K8Qe\",\"buffer\").Buffer,$K8Qe$var$process=$parcel$require(\"K8Qe\",\"process\"),$K8Qe$exports={},$K8Qe$var$capability=$parcel$require(\"K8Qe\",\"./capability\"),$K8Qe$var$inherits=$parcel$require(\"K8Qe\",\"inherits\"),$K8Qe$var$stream=$parcel$require(\"K8Qe\",\"readable-stream\"),$K8Qe$var$rStates=($K8Qe$export$readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},$K8Qe$exports.readyStates=$K8Qe$export$readyStates),$K8Qe$var$IncomingMessage=($K8Qe$export$IncomingMessage=function(e,r,a,t){var s=this;if($K8Qe$var$stream.Readable.call(s),s._mode=a,s.headers={},s.rawHeaders=[],s.trailers={},s.rawTrailers=[],s.on(\"end\",function(){$K8Qe$var$process.nextTick(function(){s.emit(\"close\")})}),\"fetch\"===a){if(s._fetchResponse=r,s.url=r.url,s.statusCode=r.status,s.statusMessage=r.statusText,r.headers.forEach(function(e,r){s.headers[r.toLowerCase()]=e,s.rawHeaders.push(r,e)}),$K8Qe$var$capability.writableStream){var $=new WritableStream({write:function(e){return new Promise(function(r,a){s._destroyed?a():s.push(new $K8Qe$var$Buffer(e))?r():s._resumeFetch=r})},close:function(){$parcel$global.clearTimeout(t),s._destroyed||s.push(null)},abort:function(e){s._destroyed||s.emit(\"error\",e)}});try{return void r.body.pipeTo($).catch(function(e){$parcel$global.clearTimeout(t),s._destroyed||s.emit(\"error\",e)})}catch(c){}}var o=r.body.getReader();!function e(){o.read().then(function(r){if(!s._destroyed){if(r.done)return $parcel$global.clearTimeout(t),void s.push(null);s.push(new $K8Qe$var$Buffer(r.value)),e()}}).catch(function(e){$parcel$global.clearTimeout(t),s._destroyed||s.emit(\"error\",e)})}()}else{if(s._xhr=e,s._pos=0,s.url=e.responseURL,s.statusCode=e.status,s.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\\r?\\n/).forEach(function(e){var r=e.match(/^([^:]+):\\s*(.*)/);if(r){var a=r[1].toLowerCase();\"set-cookie\"===a?(void 0===s.headers[a]&&(s.headers[a]=[]),s.headers[a].push(r[2])):void 0!==s.headers[a]?s.headers[a]+=\", \"+r[2]:s.headers[a]=r[2],s.rawHeaders.push(r[1],r[2])}}),s._charset=\"x-user-defined\",!$K8Qe$var$capability.overrideMimeType){var n=s.rawHeaders[\"mime-type\"];if(n){var i=n.match(/;\\s*charset=([^;])(;|$)/);i&&(s._charset=i[1].toLowerCase())}s._charset||(s._charset=\"utf-8\")}}},$K8Qe$exports.IncomingMessage=$K8Qe$export$IncomingMessage);$K8Qe$var$inherits($K8Qe$var$IncomingMessage,$K8Qe$var$stream.Readable),$K8Qe$var$IncomingMessage.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},$K8Qe$var$IncomingMessage.prototype._onXHRProgress=function(){var e=this,r=e._xhr,a=null;switch(e._mode){case\"text:vbarray\":if(r.readyState!==$K8Qe$var$rStates.DONE)break;try{a=new $parcel$global.VBArray(r.responseBody).toArray()}catch(n){}if(null!==a){e.push(new $K8Qe$var$Buffer(a));break}case\"text\":try{a=r.responseText}catch(n){e._mode=\"text:vbarray\";break}if(a.length>e._pos){var t=a.substr(e._pos);if(\"x-user-defined\"===e._charset){for(var s=new $K8Qe$var$Buffer(t.length),$=0;$<t.length;$++)s[$]=255&t.charCodeAt($);e.push(s)}else e.push(t,e._charset);e._pos=a.length}break;case\"arraybuffer\":if(r.readyState!==$K8Qe$var$rStates.DONE||!r.response)break;a=r.response,e.push(new $K8Qe$var$Buffer(new Uint8Array(a)));break;case\"moz-chunked-arraybuffer\":if(a=r.response,r.readyState!==$K8Qe$var$rStates.LOADING||!a)break;e.push(new $K8Qe$var$Buffer(new Uint8Array(a)));break;case\"ms-stream\":if(a=r.response,r.readyState!==$K8Qe$var$rStates.LOADING)break;var o=new $parcel$global.MSStreamReader;o.onprogress=function(){o.result.byteLength>e._pos&&(e.push(new $K8Qe$var$Buffer(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){e.push(null)},o.readAsArrayBuffer(a)}e._xhr.readyState===$K8Qe$var$rStates.DONE&&\"ms-stream\"!==e._mode&&e.push(null)};","map":null},"hash":"257c7a5cc3c4d0cc7fae2910e116aecf","cacheData":{"env":{},"imports":{"$require$./capability":["./capability","*"],"$require$inherits":["inherits","*"],"$require$readable-stream":["readable-stream","*"],"$require$process":["process","*"],"$require$buffer":["buffer","*"]},"exports":{"readyStates":"$K8Qe$export$readyStates","IncomingMessage":"$K8Qe$export$IncomingMessage"},"wildcards":[],"sideEffects":true,"isCommonJS":true,"shouldWrap":true}}